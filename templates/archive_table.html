<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Архив за {{ selected_date }}</title>
    <style>
        body { font-family: Arial, sans-serif; background:#f2f2f2; margin:10px; }
        h3 { text-align:center; margin-bottom:10px; }
        table { border-collapse:collapse; background:#fff; font-size:12px; min-width:2600px; }
        th, td { border:1px solid #000; padding:4px 6px; text-align:center; white-space:nowrap; }
        thead th { background:#d9d9d9; }
        .section { background:#b7d78a; font-weight:bold; text-align:left; }
        .wrap { overflow-x:auto; }
    </style>
</head>
<body>
    <h3>АО «Ямалкомунэнерго» — Архив суточного журнала за {{ selected_date }}</h3>
    
    <a href="/archive/view" style="display:block; text-align:center; margin-bottom:15px; color:blue; text-decoration:none;">← Назад к списку дат</a>
    
    <div class="wrap">
    <table>
    <thead>
    <tr>
    <th rowspan="2">№</th>
    <th rowspan="2">Марка котла / Марка горелки</th>
    <th rowspan="2">Год оборудования</th>
    <th rowspan="2">Время</th>
    <th colspan="3">Котлы</th>
    <th colspan="3">Сетевые насосы</th>
    <th colspan="3">Подпиточные насосы</th>
    <th colspan="3">t°C воды</th>
    <th colspan="2">t°C воды по температурному графику</th>
    <th rowspan="2">Давление на подаче, кгс/см²</th>
    <th rowspan="2">Давление на обратке, кгс/см²</th>
    <th rowspan="2">Расход подпиточной воды за сутки, м³</th>
    <th colspan="2">Дежурные котельной</th>
    <th rowspan="2">Примечание</th>
    </tr>
    <tr>
    <th>Работа №</th><th>Резерв №</th><th>Ремонт</th>
    <th>Работа №</th><th>Резерв №</th><th>Ремонт</th>
    <th>Работа №</th><th>Резерв №</th><th>Ремонт</th>
    <th>Наружная</th><th>Подача</th><th>Обратка</th>
    <th>Подача</th><th>Обратка</th>
    <th>Ночь</th><th>День</th>
    </tr>
    </thead>
    <tbody>
    {% for key, row in data.items() %}
<tr>
<td>{{ key }}</td>
<td>{{ row.time_interval }}</td>
</tr>
{% endfor %}
    <!-- ============ КОТЕЛЬНАЯ №1 ============ -->
    <tr class="section">
    <td colspan="24">Котельная №1 Белоярск №1 ул. Набережная 8</td>
    </tr>
    <tr>
    <td rowspan="4">1</td>
    <td rowspan="4">{{ data[791].boiler_model if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].equipment_year if data and data[791] else '' }}</td>
    <td>{{ data[791].time_interval if data and data[791] else '' }}</td>
    <td>{{ data[791].boilers_working if data and data[791] else '' }}</td>
    <td>{{ data[791].boilers_reserve if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].boilers_repair if data and data[791] else '' }}</td>
    <td>{{ data[791].pumps_working if data and data[791] else '' }}</td>
    <td>{{ data[791].pumps_reserve if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].pumps_repair if data and data[791] else '' }}</td>
    <td>{{ data[791].feed_pumps_working if data and data[791] else '' }}</td>
    <td>{{ data[791].feed_pumps_reserve if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].feed_pumps_repair if data and data[791] else '' }}</td>
    <td>{{ data[791].temp_outdoor if data and data[791] else '' }}</td>
    <td>{{ data[791].temp_supply if data and data[791] else '' }}</td>
    <td>{{ data[791].temp_return if data and data[791] else '' }}</td>
    <td>{{ data[791].temp_graph_supply if data and data[791] else '' }}</td>
    <td>{{ data[791].temp_graph_return if data and data[791] else '' }}</td>
    <td>{{ data[791].pressure_supply if data and data[791] else '' }}</td>
    <td>{{ data[791].pressure_return if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].water_consumption_daily if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].staff_night if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].staff_day if data and data[791] else '' }}</td>
    <td rowspan="4">{{ data[791].notes if data and data[791] else '' }}</td>
    </tr>
    <tr>
    <td>{{ data[800].time_interval if data and data[800] else '' }}</td>
    <td>{{ data[800].boilers_working if data and data[800] else '' }}</td>
    <td>{{ data[800].boilers_reserve if data and data[800] else '' }}</td>
    <td>{{ data[800].pumps_working if data and data[800] else '' }}</td>
    <td>{{ data[800].pumps_reserve if data and data[800] else '' }}</td>
    <td>{{ data[800].feed_pumps_working if data and data[800] else '' }}</td>
    <td>{{ data[800].feed_pumps_reserve if data and data[800] else '' }}</td>
    <td>{{ data[800].temp_outdoor if data and data[800] else '' }}</td>
    <td>{{ data[800].temp_supply if data and data[800] else '' }}</td>
    <td>{{ data[800].temp_return if data and data[800] else '' }}</td>
    <td>{{ data[800].temp_graph_supply if data and data[800] else '' }}</td>
    <td>{{ data[800].temp_graph_return if data and data[800] else '' }}</td>
    <td>{{ data[800].pressure_supply if data and data[800] else '' }}</td>
    <td>{{ data[800].pressure_return if data and data[800] else '' }}</td>
    </tr>
    <tr>
    <td>{{ data[801].time_interval if data and data[801] else '' }}</td>
    <td>{{ data[801].boilers_working if data and data[801] else '' }}</td>
    <td>{{ data[801].boilers_reserve if data and data[801] else '' }}</td>
    <td>{{ data[801].pumps_working if data and data[801] else '' }}</td>
    <td>{{ data[801].pumps_reserve if data and data[801] else '' }}</td>
    <td>{{ data[801].feed_pumps_working if data and data[801] else '' }}</td>
    <td>{{ data[801].feed_pumps_reserve if data and data[801] else '' }}</td>
    <td>{{ data[801].temp_outdoor if data and data[801] else '' }}</td>
    <td>{{ data[801].temp_supply if data and data[801] else '' }}</td>
    <td>{{ data[801].temp_return if data and data[801] else '' }}</td>
    <td>{{ data[801].temp_graph_supply if data and data[801] else '' }}</td>
    <td>{{ data[801].temp_graph_return if data and data[801] else '' }}</td>
    <td>{{ data[801].pressure_supply if data and data[801] else '' }}</td>
    <td>{{ data[801].pressure_return if data and data[801] else '' }}</td>
    </tr>
    <tr>
    <td>{{ data[802].time_interval if data and data[802] else '' }}</td>
    <td>{{ data[802].boilers_working if data and data[802] else '' }}</td>
    <td>{{ data[802].boilers_reserve if data and data[802] else '' }}</td>
    <td>{{ data[802].pumps_working if data and data[802] else '' }}</td>
    <td>{{ data[802].pumps_reserve if data and data[802] else '' }}</td>
    <td>{{ data[802].feed_pumps_working if data and data[802] else '' }}</td>
    <td>{{ data[802].feed_pumps_reserve if data and data[802] else '' }}</td>
    <td>{{ data[802].temp_outdoor if data and data[802] else '' }}</td>
    <td>{{ data[802].temp_supply if data and data[802] else '' }}</td>
    <td>{{ data[802].temp_return if data and data[802] else '' }}</td>
    <td>{{ data[802].temp_graph_supply if data and data[802] else '' }}</td>
    <td>{{ data[802].temp_graph_return if data and data[802] else '' }}</td>
    <td>{{ data[802].pressure_supply if data and data[802] else '' }}</td>
    <td>{{ data[802].pressure_return if data and data[802] else '' }}</td>
    </tr>

    <tr>
    <td rowspan="2">2</td>
    <td rowspan="2">{{ data[803].boiler_model if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].equipment_year if data and data[803] else '' }}</td>
    <td>{{ data[803].time_interval if data and data[803] else '' }}</td>
    <td>{{ data[803].boilers_working if data and data[803] else '' }}</td>
    <td>{{ data[803].boilers_reserve if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].boilers_repair if data and data[803] else '' }}</td>
    <td>{{ data[803].pumps_working if data and data[803] else '' }}</td>
    <td>{{ data[803].pumps_reserve if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].pumps_repair if data and data[803] else '' }}</td>
    <td>{{ data[803].feed_pumps_working if data and data[803] else '' }}</td>
    <td>{{ data[803].feed_pumps_reserve if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].feed_pumps_repair if data and data[803] else '' }}</td>
    <td>{{ data[803].temp_outdoor if data and data[803] else '' }}</td>
    <td>{{ data[803].temp_supply if data and data[803] else '' }}</td>
    <td>{{ data[803].temp_return if data and data[803] else '' }}</td>
    <td>{{ data[803].temp_graph_supply if data and data[803] else '' }}</td>
    <td>{{ data[803].temp_graph_return if data and data[803] else '' }}</td>
    <td>{{ data[803].pressure_supply if data and data[803] else '' }}</td>
    <td>{{ data[803].pressure_return if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].water_consumption_daily if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].staff_night if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].staff_day if data and data[803] else '' }}</td>
    <td rowspan="2">{{ data[803].notes if data and data[803] else '' }}</td>
    </tr>
    <tr>
    <td>{{ data[804].time_interval if data and data[804] else '' }}</td>
    <td>{{ data[804].boilers_working if data and data[804] else '' }}</td>
    <td>{{ data[804].boilers_reserve if data and data[804] else '' }}</td>
    <td>{{ data[804].pumps_working if data and data[804] else '' }}</td>
    <td>{{ data[804].pumps_reserve if data and data[804] else '' }}</td>
    <td>{{ data[804].feed_pumps_working if data and data[804] else '' }}</td>
    <td>{{ data[804].feed_pumps_reserve if data and data[804] else '' }}</td>
    <td>{{ data[804].temp_outdoor if data and data[804] else '' }}</td>
    <td>{{ data[804].temp_supply if data and data[804] else '' }}</td>
    <td>{{ data[804].temp_return if data and data[804] else '' }}</td>
    <td>{{ data[804].temp_graph_supply if data and data[804] else '' }}</td>
    <td>{{ data[804].temp_graph_return if data and data[804] else '' }}</td>
    <td>{{ data[804].pressure_supply if data and data[804] else '' }}</td>
    <td>{{ data[804].pressure_return if data and data[804] else '' }}</td>
    </tr>

    <tr>
    <td rowspan="4">3</td>
    <td rowspan="4">{{ data[805].boiler_model if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].equipment_year if data and data[805] else '' }}</td>
    <td>{{ data[805].time_interval if data and data[805] else '' }}</td>
    <td>{{ data[805].boilers_working if data and data[805] else '' }}</td>
    <td>{{ data[805].boilers_reserve if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].boilers_repair if data and data[805] else '' }}</td>
    <td>{{ data[805].pumps_working if data and data[805] else '' }}</td>
    <td>{{ data[805].pumps_reserve if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].pumps_repair if data and data[805] else '' }}</td>
    <td>{{ data[805].feed_pumps_working if data and data[805] else '' }}</td>
    <td>{{ data[805].feed_pumps_reserve if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].feed_pumps_repair if data and data[805] else '' }}</td>
    <td>{{ data[805].temp_outdoor if data and data[805] else '' }}</td>
    <td>{{ data[805].temp_supply if data and data[805] else '' }}</td>
    <td>{{ data[805].temp_return if data and data[805] else '' }}</td>
    <td>{{ data[805].temp_graph_supply if data and data[805] else '' }}</td>
    <td>{{ data[805].temp_graph_return if data and data[805] else '' }}</td>
    <td>{{ data[805].pressure_supply if data and data[805] else '' }}</td>
    <td>{{ data[805].pressure_return if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].water_consumption_daily if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].staff_night if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].staff_day if data and data[805] else '' }}</td>
    <td rowspan="4">{{ data[805].notes if data and data[805] else '' }}</td>
    </tr>
    <tr>
    <td>{{ data[806].time_interval if data and data[806] else '' }}</td>
    <td>{{ data[806].boilers_working if data and data[806] else '' }}</td>
    <td>{{ data[806].boilers_reserve if data and data[806] else '' }}</td>
    <td>{{ data[806].pumps_working if data and data[806] else '' }}</td>
    <td>{{ data[806].pumps_reserve if data and data[806] else '' }}</td>
    <td>{{ data[806].feed_pumps_working if data and data[806] else '' }}</td>
    <td>{{ data[806].feed_pumps_reserve if data and data[806] else '' }}</td>
    <td>{{ data[806].temp_outdoor if data and data[806] else '' }}</td>
    <td>{{ data[806].temp_supply if data and data[806] else '' }}</td>
    <td>{{ data[806].temp_return if data and data[806] else '' }}</td>
    <td>{{ data[806].temp_graph_supply if data and data[806] else '' }}</td>
    <td>{{ data[806].temp_graph_return if data and data[806] else '' }}</td>
    <td>{{ data[806].pressure_supply if data and data[806] else '' }}</td>
    <td>{{ data[806].pressure_return if data and data[806] else '' }}</td>
    </tr>
    <tr>
    <td>{{ data[807].time_interval if data and data[807] else '' }}</td>
    <td>{{ data[807].boilers_working if data and data[807] else '' }}</td>
    <td>{{ data[807].boilers_reserve if data and data[807] else '' }}</td>
    <td>{{ data[807].pumps_working if data and data[807] else '' }}</td>
    <td>{{ data[807].pumps_reserve if data and data[807] else '' }}</td>
    <td>{{ data[807].feed_pumps_working if data and data[807] else '' }}</td>
    <td>{{ data[807].feed_pumps_reserve if data and data[807] else '' }}</td>
    <td>{{ data[807].temp_outdoor if data and data[807] else '' }}</td>
    <td>{{ data[807].temp_supply if data and data[807] else '' }}</td>
    <td>{{ data[807].temp_return if data and data[807] else '' }}</td>
    <td>{{ data[807].temp_graph_supply if data and data[807] else '' }}</td>
    <td>{{ data[807].temp_graph_return if data and data[807] else '' }}</td>
    <td>{{ data[807].pressure_supply if data and data[807] else '' }}</td>
    <td>{{ data[807].pressure_return if data and data[807] else '' }}</td>
    </tr>

    <!-- ============ КОТЕЛЬНАЯ №2 ============ -->
    <tr class="section">
    <td colspan="24">Котельная №2 Белоярск №2 ул. Юбилейная 11</td>
    </tr>
    <tr>
    <td rowspan="4">1</td>
    <td rowspan="4">{{ data[809].boiler_model if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].equipment_year if data and data[809] else '' }}</td>
    <td>{{ data[809].time_interval if data and data[809] else '' }}</td>
    <td>{{ data[809].boilers_working if data and data[809] else '' }}</td>
    <td>{{ data[809].boilers_reserve if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].boilers_repair if data and data[809] else '' }}</td>
    <td>{{ data[809].pumps_working if data and data[809] else '' }}</td>
    <td>{{ data[809].pumps_reserve if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].pumps_repair if data and data[809] else '' }}</td>
    <td>{{ data[809].feed_pumps_working if data and data[809] else '' }}</td>
    <td>{{ data[809].feed_pumps_reserve if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].feed_pumps_repair if data and data[809] else '' }}</td>
    <td>{{ data[809].temp_outdoor if data and data[809] else '' }}</td>
    <td>{{ data[809].temp_supply if data and data[809] else '' }}</td>
    <td>{{ data[809].temp_return if data and data[809] else '' }}</td>
    <td>{{ data[809].temp_graph_supply if data and data[809] else '' }}</td>
    <td>{{ data[809].temp_graph_return if data and data[809] else '' }}</td>
    <td>{{ data[809].pressure_supply if data and data[809] else '' }}</td>
    <td>{{ data[809].pressure_return if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].water_consumption_daily if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].staff_night if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].staff_day if data and data[809] else '' }}</td>
    <td rowspan="4">{{ data[809].notes if data and data[809] else '' }}</td>
    </tr>

    </tbody>
    </table>
    </div>
</body>
</html>
