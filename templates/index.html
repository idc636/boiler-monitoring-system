<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–£—á—ë—Ç –∫–æ—Ç–µ–ª—å–Ω—ã—Ö</title>
    <style>
        * { font-family: Arial; font-size: 12px; }
        body { background:#f5f5f5; margin:10px; }
        table { border-collapse: collapse; width: 100%; min-width:2600px; background:white; }
        th, td { border:1px solid #ccc; padding:4px; text-align:center; }
        th { background:#0047AB; color:white; }
        .section { background:#90EE90; font-weight:bold; }
    </style>
</head>
<body>

<h2 style="text-align:center">–ê–û ¬´–Ø–º–∞–ª–∫–æ–º—É–Ω—ç–Ω–µ—Ä–≥–æ¬ª ‚Äî –°—É—Ç–æ—á–Ω—ã–π –∂—É—Ä–Ω–∞–ª</h2>

<div style="overflow-x:auto">
<table>

<thead>
<tr>
    <th>–ì–æ–¥</th>
    <th>–í—Ä–µ–º—è</th>

    <th colspan="3">–ö–æ—Ç–ª—ã</th>
    <th colspan="3">–°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å–æ—Å—ã</th>
    <th colspan="3">–ü–æ–¥–ø–∏—Ç–æ—á–Ω—ã–µ –Ω–∞—Å–æ—Å—ã</th>

    <th colspan="7">–¢–æ–ø–ª–∏–≤–Ω—ã–µ —ë–º–∫–æ—Å—Ç–∏</th>
    <th colspan="5">–Å–º–∫–æ—Å—Ç–∏ –≤–æ–¥—ã</th>

    <th colspan="3">t¬∞C –≤–æ–¥—ã</th>
    <th>–†–∞—Å—Ö–æ–¥ –ø–æ–¥–ø–∏—Ç–∫–∏</th>
    <th colspan="2">–î–µ–∂—É—Ä–Ω—ã–µ</th>
    <th>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</th>
</tr>

<tr>
    <th></th><th></th>

    <th>–†–∞–±–æ—Ç–∞</th><th>–†–µ–∑–µ—Ä–≤</th><th>–†–µ–º–æ–Ω—Ç</th>
    <th>–†–∞–±–æ—Ç–∞</th><th>–†–µ–∑–µ—Ä–≤</th><th>–†–µ–º–æ–Ω—Ç</th>
    <th>–†–∞–±–æ—Ç–∞</th><th>–†–µ–∑–µ—Ä–≤</th><th>–†–µ–º–æ–Ω—Ç</th>

    <th>–í—Å–µ–≥–æ</th><th>–û–±—ä—ë–º</th><th>–†–∞–±–æ—Ç–∞</th><th>–†–µ–∑–µ—Ä–≤</th>
    <th>–û—Å—Ç–∞—Ç–æ–∫</th><th>–†–∞—Å—Ö–æ–¥</th><th>–†–µ–º–æ–Ω—Ç</th>

    <th>–í—Å–µ–≥–æ</th><th>–û–±—ä—ë–º</th><th>–†–∞–±–æ—Ç–∞</th><th>–†–µ–∑–µ—Ä–≤</th><th>–†–µ–º–æ–Ω—Ç</th>

    <th>–ù–∞—Ä—É–∂</th><th>–ü–æ–¥–∞—á–∞</th><th>–û–±—Ä–∞—Ç–∫–∞</th>

    <th></th>
    <th>–ù–æ—á—å</th><th>–î–µ–Ω—å</th>
    <th></th>
</tr>
</thead>

<tbody>

{% for b in boilers %}
<tr class="section">
    <td colspan="100%">
        üìÖ {{ b.date }} | üî• –ö–æ—Ç–µ–ª—å–Ω–∞—è ‚Ññ{{ b.number }} | üìç {{ b.location }}
    </td>
</tr>

{% for i in range(b.rows) %}
<tr>

    {# === –ì–û–î –û–ë–û–†–£–î–û–í–ê–ù–ò–Ø === #}
    {% for y in b.years %}
        {% if i == y.start %}
            <td rowspan="{{ y.span }}">{{ y.year }}</td>
        {% endif %}
    {% endfor %}

    <td>{{ b.times[i] }}</td>

    {# === –ö–û–¢–õ–´ === #}
    <td>{{ b.boilers.work[i] }}</td>
    <td>{{ b.boilers.reserve[i] }}</td>
    {% if i == 0 %}<td rowspan="{{ b.rows }}">{{ b.boilers.repair }}</td>{% endif %}

    {# === –°–ï–¢–ï–í–´–ï –ù–ê–°–û–°–´ === #}
    <td>{{ b.network_pumps.work[i] }}</td>
    <td>{{ b.network_pumps.reserve[i] }}</td>
    {% if i == 0 %}<td rowspan="{{ b.rows }}">{{ b.network_pumps.repair }}</td>{% endif %}

    {# === –ü–û–î–ü–ò–¢–û–ß–ù–´–ï –ù–ê–°–û–°–´ === #}
    <td>{{ b.feed_pumps.work[i] }}</td>
    <td>{{ b.feed_pumps.reserve[i] }}</td>
    {% if i == 0 %}<td rowspan="{{ b.rows }}">{{ b.feed_pumps.repair }}</td>{% endif %}

    {# === –¢–û–ü–õ–ò–í–û === #}
    {% if i == 0 %}
        <td rowspan="{{ b.rows }}">{{ b.fuel.total }}</td>
        <td rowspan="{{ b.rows }}">{{ b.fuel.volume }}</td>
        <td rowspan="{{ b.rows }}">{{ b.fuel.work }}</td>
        <td rowspan="{{ b.rows }}">{{ b.fuel.reserve }}</td>
        <td rowspan="{{ b.rows }}">{{ b.fuel.balance }}</td>
        <td rowspan="{{ b.rows }}">{{ b.fuel.daily }}</td>
        <td rowspan="{{ b.rows }}">{{ b.fuel.repair }}</td>
    {% endif %}

    {# === –í–û–î–ê === #}
    {% if i == 0 %}
        <td rowspan="{{ b.rows }}">{{ b.water.total }}</td>
        <td rowspan="{{ b.rows }}">{{ b.water.volume }}</td>
        <td rowspan="{{ b.rows }}">{{ b.water.work }}</td>
        <td rowspan="{{ b.rows }}">{{ b.water.reserve }}</td>
        <td rowspan="{{ b.rows }}">{{ b.water.repair }}</td>
    {% endif %}

    {# === –¢–ï–ú–ü–ï–†–ê–¢–£–†–´ === #}
    <td>{{ b.temps[i][0] }}</td>
    <td>{{ b.temps[i][1] }}</td>
    <td>{{ b.temps[i][2] }}</td>

    {# === –ü–†–û–ß–ï–ï === #}
    {% if i == 0 %}
        <td rowspan="{{ b.rows }}">{{ b.water_consumption }}</td>
        <td rowspan="{{ b.rows }}">{{ b.staff.night }}</td>
        <td rowspan="{{ b.rows }}">{{ b.staff.day }}</td>
        <td rowspan="{{ b.rows }}">{{ b.notes }}</td>
    {% endif %}

</tr>
{% endfor %}
{% endfor %}

</tbody>
</table>
</div>

</body>
</html>
