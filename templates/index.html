<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>АО «Ямалкомунэнерго» — Суточный журнал</title>
<style>
body { font-family: Arial; margin: 20px; }
table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
th, td { border: 1px solid #333; padding: 5px; text-align: center; }
th { background: #eee; }
button { margin: 5px; padding: 5px 10px; }
</style>
<script>
function addRecord() {
    fetch('/add', {method: 'POST'})
    .then(res => res.json())
    .then(r => { if(r.status=='ok'){ location.reload(); } });
}
</script>
</head>
<body>
<h1>АО «Ямалкомунэнерго» — Суточный журнал</h1>
<button onclick="addRecord()">Добавить тестовую запись</button>
<a href="/logout">Выйти</a>

{% for boiler in boilers %}
<h3>Котёл №{{ boiler.number }} ({{ boiler.date }})</h3>
<table>
  <tr>
    <th>Модель</th>
    <th>Темп. наруж.</th>
    <th>Темп. подачи</th>
    <th>Темп. обратки</th>
    <th>Примечания</th>
  </tr>
  {% for i in range(boiler.rows) %}
  <tr>
    <td>{{ boiler.boiler_models[i] }}</td>
    <td>{{ boiler.temps[i][0] or '' }}</td>
    <td>{{ boiler.temps[i][1] or '' }}</td>
    <td>{{ boiler.temps[i][2] or '' }}</td>
    <td>{{ boiler.notes or '' }}</td>
  </tr>
  {% endfor %}
</table>
{% endfor %}

</body>
</html>
